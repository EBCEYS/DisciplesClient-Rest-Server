# REST-сервер для клиента игры disciples 2
## Описание конфигурационного файла
```json
{
  "AllowedHosts": "*", // список адресов с которых можем получать запросы
  "ConnectionStrings": { //строки для коннекта с базой данных
    "UsersDBConnection": "Host=localhost;Port=5433;Database=Disciples2ClientDB;Username=postgres;Password=123" //пока используется только эта
  },
  "JwtAuth": { // настройки для токена
    "Issuer": "THE_EBCEY",
    "Audience": "THE_EBCEY"
  },
  "RemoveQueueFilePath": "removequeue.json" // имя файла, в котором будет хранится очередь запросов на удаление файла мода
}
```
## Планы
1. Создать удобный клиент :) будет лежать в отдельной дириктории наверное;
2. Выложить серверную часть на какой-нибудь хостинг.

## Описание работы
БД - PostgreSQL. Связь с ней идет через entity framework. Legacy datetime-ы.

![ERD](https://github.com/EBCEYS/DisciplesClient-Rest-Server/blob/main/BD_ERD.png)

Свагер выложен в формате pdf.
### Пользователи
Токен с бесконечным жизненным циклом (может потом поменяю), но по идее, обычным пользователям не нужно будет логиниться.

# Админский и авторский клиент
## Описание
Клиент создан для администрации системы. Администратор может управлять пользователями и игровыми ресурсами (модами, программами, клиентом игры (его пока нет)).

Авторы модов могут загружать свою работу в формате .zip архива на сервер (архивировать лучше стандартным архиватором windows для избежания ошибок).

Авторизация проходит только 1 раз. При повторном запуске клиента, токен будет взят из сохраненного файла.

На всякий случай предупреждаю, что клиентом можно пользоваться только при наличии связи с рестом.
## Описание конфигурационного файла
```json
{
  "Url": "https://localhost:5001"// адрес реста
}

```